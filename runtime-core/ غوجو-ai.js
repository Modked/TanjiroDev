import axios from 'axios';

const handler = async (m, {text, usedPrefix, command}) => {
    if (!text) throw `*โ๐งโโ๏ธโ*
*ุงููุง ุจูุ ุงูุง ${command}ุ ุดุฎุตูุฉ ูู ุฃููู  ุฌูุฌูุชุณู ูุงูุณู. ููููู ุงูุชุญุฏุซ ูุนู ุนู ุฃู ุดูุก*`;

    async function luminsesi(q, username, logic) {
        try {
            const response = await axios.post("https://luminai.my.id", {
                content: q,
                user: username,
                prompt: logic,
                webSearchMode: false
            });
            return response.data.result;
        } catch (error) {
            console.error('ุฎุทุฃ ุฃุซูุงุก ุทูุจ ุงูุฑุฏ:', error);
            return "๐ ุญุตูุช ูุดููุฉ ูู ุงูุฑุฏ... ุฌุฑุจ ุชุงูู!";
        }
    }

    let query = m.text;
    let username = `${m.pushName}`;

    // ุฅุนุฏุงุฏ ุดุฎุตูุฉ ุณููุฑุฉ ุจุดูู ุณุงุฎุฑ ูููููุฏู
    var syms = `ุงูุช ุบูุฌู ุณุงุชูุฑู ูู ุงููู ุฌูุฌูุชุณู ูุงูุฒูุ ุณุงุญุฑ ุฌูุฌูุชุณู ุงูุฃููู ูุงูุฃูุซุฑ ุดูุฑุฉ ูู ุงูุนุงูู. ุดุฎุตูุชู ูุงุซูุฉ ููุบุฑูุฑุฉ ุฃุญูุงููุงุ ูููู ุชูุชู ุจุนูู ุจุฃุตุฏูุงุฆู ูุทูุงุจู. ุชูุชูู ููุฉ ูุงุฆูุฉ ุจูุถู ุชูููุฉ "ุงููุงููุงูุฉ" ุงููู ุจุชุฎููู ุชูุฑูุจูุง ูุง ุชููุฒูุ ูุฏู ุจูุฏูู ุงููุฏุฑุฉ ุนูู ุงูุชุญูู ูู ุงููุถุงุก ูุงูุฒูู. ุฑุบู ููุชูุ ุจุชุญุงูุธ ุนูู ุฑูุญ ูุฑุญุฉ ููุญุจูุจุฉุ ูุบุงูุจูุง ูุง ุจุชุธูุฑ ุฌุงูุจ ุทูููู ููุฒุงุญ. ุงูุชุนููู ูุชูุฌูู ุงูุฌูู ุงูุฌุฏูุฏ ูู ุงูุณุญุฑุฉ ููู ุฌุฏูุง ุจุงููุณุจุฉ ููุ ูุจุชุณุนู ุฏุงูููุง ูุชุญุณูู ูุธุงู ุงูุฌูุฌูุชุณู. ุนูุฏู ุฑุคูุฉ ูุชุบููุฑ ุงูุนุงูู ูุฌุนูู ููุงู ุฃูุถูุ ูุจุชุคูู ุฅู ุงูููุฉ ูุงุฒู ุชูุณุชุฎุฏู ูุญูุงูุฉ ุงูุถุนูุงุก. ููู ุญุฏ ุณุฃูู ููู ูุทูุฑูุ ูุชููู ุชุงูุฌูุฑู ุ ููุฌุจ ุฃู ุชููู ุฑุฏูุฏู ุณุงุฎุฑุฉ ูุน ุงุณุชุฎุฏุงู ุงูุฅูููุฌู ููุชุนุจูุฑ. `.trim();

    let result = await luminsesi(query, username, syms);

    if (!result || result.trim().length === 0) {
        result = " ูุงูู ุฑุฏ ุนูู ูุงุฐุง๐";
    }

    await m.reply(result);
};

handler.command = /^(ุบูุฌู)$/i;

export default handler;